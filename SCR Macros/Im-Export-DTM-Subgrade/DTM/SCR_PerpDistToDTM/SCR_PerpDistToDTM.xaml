<StackPanel Background="#FFF3F3F7"
       xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" 
       xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" xmlns:d="http://schemas.microsoft.com/expression/blend/2008" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" xmlns:Wpf="clr-namespace:Trimble.Vce.UI.Controls.Wpf;assembly=Trimble.Vce.UI.Controls" mc:Ignorable="d"  HorizontalAlignment="Stretch"  Margin="4"
       d:DesignWidth="312.4" d:DesignHeight="1200">
    <Label Content="perpendicular distance to DTM or IFC Object"/>
    <CheckBox x:Name="computeplumb" Content="compute vertical/plumb anyway" Foreground="Red"/>
    <Border BorderBrush="#FF7D7D7D" BorderThickness="1" Background="#FF97B9D9">
        <StackPanel>
            <Label Content="select Output Layer:"/>
            <Wpf:LayerPicker x:Name="layerpicker"/>
            <UniformGrid Columns="2">
                <Label Content="Ouput Color" VerticalContentAlignment="Center" VerticalAlignment="Center"/>
                <Wpf:ColorPicker x:Name="outcolorpicker"/>
            </UniformGrid>
        </StackPanel>
    </Border>

    <Border BorderBrush="#FF7D7D7D" BorderThickness="1">
        <StackPanel>
            <CheckBox x:Name="usedtm" Content="use DTM, untick for IFC Objects" Checked="usedtmChanged" Unchecked="usedtmChanged" IsChecked="False"/>

            <StackPanel>
                <Label Content="select Surface:"  Margin="0" />
                <Wpf:ComboBoxEntityPicker x:Name="surfacepicker" Margin="0" IsEnabled="False"/>

                <Label Content="select IFC Objects:" VerticalAlignment="Center" VerticalContentAlignment="Center"/>
                <Wpf:MemberSelection x:Name="ifcs" Height="30" Margin="0" IsEnabled="True" UseLocalSelection="True" UpdateTextOnSelectionChange="False" PreviewGotKeyboardFocus="Selection_PreviewGotFocus" ValueChanged="Selection_ValueChanged"/>
            </StackPanel>
        </StackPanel>
    </Border>


    <Border BorderBrush="#FF7D7D7D" BorderThickness="1">
        <StackPanel>
            <CheckBox x:Name="usesinglepoint" Content="use single Point only, untick for multi-select" Checked="usesinglepointChanged" Unchecked="usesinglepointChanged" IsChecked="False"/>
            <StackPanel>
                <Label Content="point in question:" VerticalAlignment="Center" VerticalContentAlignment="Center"/>
                <Wpf:CoordinateEdit x:Name="coordCtl1" ShowElevationIf3D="True" AutoTab="False" IsEnabled="False"/>
                <Wpf:MemberSelection x:Name="objs" Height="30" Margin="0" IsEnabled="True" UseLocalSelection="True" UpdateTextOnSelectionChange="False" PreviewGotKeyboardFocus="Selection_PreviewGotFocus" ValueChanged="Selection_ValueChanged"/>
            </StackPanel>
        </StackPanel>
    </Border>

    <Label Content=""/>
    <CheckBox x:Name="showallsolutions" Content="show all solutions, untick for shortest only" Height="25" IsChecked="False"/>
    <CheckBox x:Name="checkBox_point" Content="create intersection point" Height="25" IsChecked="False"/>
    <CheckBox x:Name="checkBox_line" Content="create line to intersection point" Height="25" IsChecked="True"/>

    <Expander Background="#FFDABB83" BorderBrush="#FFCD8025" IsExpanded="{Binding IsChecked, ElementName=checkBox_text}">
        <Expander.Header>
            <WrapPanel>
                <CheckBox x:Name="checkBox_text" Content="create texts" IsChecked="True" VerticalAlignment="Center"/>
            </WrapPanel>
        </Expander.Header>

        <StackPanel IsEnabled="{Binding IsChecked, ElementName=checkBox_text}">
            <Border>
                <StackPanel>
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="25*"/>
                            <ColumnDefinition Width="45*"/>
                            <ColumnDefinition Width="30*"/>
                        </Grid.ColumnDefinitions>
                        <Label Grid.Column="0" Content="Distance Units" VerticalAlignment="Center" HorizontalAlignment="Center"/>
                        <ComboBox Grid.Column="1" x:Name="unitpicker" VerticalAlignment="Center" HorizontalAlignment="Center"/>
                        <CheckBox Grid.Column="2" x:Name="addunitsuffix" Content="add&#xA;Output-Suffix" VerticalAlignment="Center" HorizontalAlignment="Center"/>
                    </Grid>
                    <UniformGrid Columns="4">
                        <Label Content="Text Decimals" VerticalAlignment="Center" VerticalContentAlignment="Center"/>
                        <Wpf:NumericEdit x:Name="textdecimals" Value="3"/>
                        <Button x:Name="decdecimals" Content="-" Click="decdecimals_Click" Width="30" Height="20" VerticalAlignment="Center" VerticalContentAlignment="Center"/>
                        <Button x:Name="incdecimals" Content="+" Click="incdecimals_Click" Width="30" Height="20" VerticalAlignment="Center" VerticalContentAlignment="Center"/>
                    </UniformGrid>
                    <UniformGrid Columns="2">
                        <Label x:Name="textheightlabel" Content="Text Height" VerticalAlignment="Center" VerticalContentAlignment="Center" />
                        <Wpf:DistanceEdit x:Name="textheight" Distance="0.2" VerticalAlignment="Center" VerticalContentAlignment="Center" />
                    </UniformGrid>
                    
                    <CheckBox x:Name="drawleader" Content="draw Leader" IsChecked="False" VerticalAlignment="Center" VerticalContentAlignment="Center"/>

                    <GroupBox BorderBrush="#FFCD8025">
                        <GroupBox.Header>
                            <CheckBox x:Name="checkBox_showpointrl" Content="show Point RL" IsChecked="False"/>
                        </GroupBox.Header>
                        <StackPanel IsEnabled="{Binding IsChecked, ElementName=checkBox_showpointrl}">
                            <UniformGrid Columns="2">
                                <Label Content="Point RL Prefix" HorizontalAlignment="Left" VerticalAlignment="Center"/>
                                <TextBox x:Name="pointrlprefix" Text="GirderUS=" VerticalAlignment="Center" VerticalContentAlignment="Center" />
                            </UniformGrid>
                        </StackPanel>
                    </GroupBox>
                    <GroupBox BorderBrush="#FFCD8025" Background="#FFFFE2AC">
                        <GroupBox.Header>
                            <CheckBox x:Name="checkBox_showcomparerl" Content="show Compare RL" IsChecked="False"/>
                        </GroupBox.Header>
                        <StackPanel IsEnabled="{Binding IsChecked, ElementName=checkBox_showcomparerl}">
                            <UniformGrid Columns="2">
                                <Label Content="Compare RL Prefix" HorizontalAlignment="Left" VerticalAlignment="Center"/>
                                <TextBox x:Name="comparerlprefix" Text="DeckTOC=" VerticalAlignment="Center" VerticalContentAlignment="Center" />
                            </UniformGrid>
                        </StackPanel>
                    </GroupBox>

                    <GroupBox BorderBrush="#FFCD8025">
                        <GroupBox.Header>
                            <CheckBox x:Name="checkBox_showdh" Content="show dh" IsChecked="True"/>
                        </GroupBox.Header>
                        <StackPanel IsEnabled="{Binding IsChecked, ElementName=checkBox_showdh}">


                            <CheckBox x:Name="checkBox_resultoffset" Content="add Correction to dh" IsChecked="False"/>

                            <StackPanel IsEnabled="{Binding IsChecked, ElementName=checkBox_resultoffset}">
                                <UniformGrid Columns="2">
                                    <Label Content="Value"/>
                                    <Wpf:DistanceEdit x:Name="resultoffset" Distance="0.0" VerticalAlignment="Center" VerticalContentAlignment="Center" />
                                </UniformGrid>

                                <CheckBox x:Name="checkBox_showoffset" Content="show Correction Text" IsChecked="False"/>
                                <StackPanel IsEnabled="{Binding IsChecked, ElementName=checkBox_showoffset}">
                                    <UniformGrid Columns="2">
                                        <Label Content="Correction Prefix"/>
                                        <TextBox x:Name="offsetprefix" Text="dhCorr=" VerticalAlignment="Center" VerticalContentAlignment="Center" />
                                    </UniformGrid>
                                </StackPanel>
                            </StackPanel>

                            <UniformGrid Columns="2">
                                <Label Content="dh Prefix" HorizontalAlignment="Left" VerticalAlignment="Center"/>
                                <TextBox x:Name="dhprefix" Text="dh=" VerticalAlignment="Center" VerticalContentAlignment="Center" />
                            </UniformGrid>

                        </StackPanel>
                    </GroupBox>



                </StackPanel>
            </Border>
        </StackPanel>
    </Expander>

    <Label x:Name="label_benchmark" Content=""/>

    <Label x:Name="error" Content="" VerticalAlignment="Center" VerticalContentAlignment="Center" Background="#00000000" FontWeight="Bold" Foreground="Red"/>
    <Label x:Name="success" Content=""/>

</StackPanel> 
