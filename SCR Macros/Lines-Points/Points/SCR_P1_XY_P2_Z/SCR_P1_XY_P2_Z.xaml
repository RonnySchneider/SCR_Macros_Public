<StackPanel Background="#FFF3F3F7"
       xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" 
       xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" xmlns:d="http://schemas.microsoft.com/expression/blend/2008" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" xmlns:Wpf="clr-namespace:Trimble.Vce.UI.Controls.Wpf;assembly=Trimble.Vce.UI.Controls" mc:Ignorable="d"  HorizontalAlignment="Stretch"  Margin="4"
       d:DesignWidth="222" d:DesignHeight="872.093" >
    <Label Content="create new Point with XY from P1 and Z from P2"/>


    <Label Content="select Output Layer:"/>
    <Wpf:LayerPicker x:Name="layerpicker"/>

    <CheckBox x:Name="createnamedpoint" Content="create named Point, untick for simple CAD-Point" IsChecked="True" Checked="createnamedpointChanged" Unchecked="createnamedpointChanged" VerticalAlignment="Center" VerticalContentAlignment="Center"/>

    <GroupBox x:Name="namedpointbox" IsEnabled="True">
        <StackPanel>
            <UniformGrid Columns="2">
                <Label Content="add to P1 Name" VerticalAlignment="Center" VerticalContentAlignment="Center"/>
                <TextBox x:Name="addtoname" Text="_EC" VerticalAlignment="Center" VerticalContentAlignment="Center" Margin="0,0,3,0"/>
            </UniformGrid>
            <Label Content="new Code, leave empty for P1 Code" VerticalAlignment="Center" VerticalContentAlignment="Center"/>
            <TextBox x:Name="newcode" Text="" VerticalAlignment="Center" VerticalContentAlignment="Center" Margin="0,0,3,0"/>
        </StackPanel>
    </GroupBox>
    
    <GroupBox>
        <GroupBox.Header>
            <RadioButton x:Name="manualinput" Content="manual Point Selection/Creation" GroupName="creation" IsChecked="True"/>
        </GroupBox.Header>
        <StackPanel IsEnabled="{Binding IsChecked, ElementName=manualinput}">
            <Border BorderBrush="#FF7D7D7D" BorderThickness="1">
                <StackPanel>
                    <Label Content="Select P1" VerticalAlignment="Center" VerticalContentAlignment="Center"/>
                    <Wpf:CoordinateEdit x:Name="coordpick1"/>
                </StackPanel>
            </Border>
            <Border BorderBrush="#FF7D7D7D" BorderThickness="1" Background="#FF97B9D9">
                <StackPanel>
                    <Label Content="Select P2" VerticalAlignment="Center" VerticalContentAlignment="Center"/>
                    <Wpf:CoordinateEdit x:Name="coordpick2"/>
                </StackPanel>
            </Border>
            <CheckBox x:Name="autoincrementslider" Content="auto-advance Slider if working in Cutting Plane View" IsChecked="False" VerticalAlignment="Center" VerticalContentAlignment="Center"/>
        </StackPanel>
    </GroupBox>
    <GroupBox>
        <GroupBox.Header>
            <RadioButton x:Name="autoinput" Content="automatic Creation (no CAD points allowed)" GroupName="creation"/>
        </GroupBox.Header>
        <StackPanel IsEnabled="{Binding IsChecked, ElementName=autoinput}">
            <Border BorderBrush="#FF7D7D7D" BorderThickness="1">
                <StackPanel>
                    <Label Content="Select all P1 and P2 to be analysed" VerticalAlignment="Center" VerticalContentAlignment="Center"/>
                    <Wpf:MemberSelection x:Name="objs" Height="30" Margin="0"/>
                </StackPanel>
            </Border>
            <Border BorderBrush="#FF7D7D7D" BorderThickness="1" Background="#FF97B9D9">
                <StackPanel>
                    <Label Content="part of P1 Feature Code to search for" VerticalAlignment="Center" VerticalContentAlignment="Center"/>
                    <TextBox x:Name="p1code" Height="23" Text="" VerticalAlignment="Center" VerticalContentAlignment="Center" Margin="3,0,3,0"/>
                </StackPanel>
            </Border>
            <Border BorderBrush="#FF7D7D7D" BorderThickness="1">
                <StackPanel>
                    <Label Content="part of P2 Feature Code to search for" VerticalAlignment="Center" VerticalContentAlignment="Center"/>
                    <TextBox x:Name="p2code" Height="23" Text="" VerticalAlignment="Center" VerticalContentAlignment="Center" Margin="3,0,3,0"/>
                </StackPanel>
            </Border>
            <Border BorderBrush="#FF7D7D7D" BorderThickness="1" Background="#FF97B9D9">
                <StackPanel>
                    <Label x:Name="labelsearchradius" Content="3D search radius" VerticalAlignment="Center" VerticalContentAlignment="Center"/>
                    <Wpf:DistanceEdit x:Name="searchradius" Distance="0" VerticalAlignment="Center" VerticalContentAlignment="Center" Margin="3,0,3,0"/>
                </StackPanel>
            </Border>
        </StackPanel>
    </GroupBox>

    <Label Content="in case of manual input click OK to save settings, Cancel won't" VerticalAlignment="Center" VerticalContentAlignment="Center"/>

    <Label x:Name="error" Content="" VerticalAlignment="Center" VerticalContentAlignment="Center" Background="#00000000" FontWeight="Bold" Foreground="Red"/>
    <Label x:Name="success" Content=""/>






</StackPanel> 
    